# 虚拟地址和物理地址的区别

> 原文:[https://www.javatpoint.com/virtual-vs-physical-address](https://www.javatpoint.com/virtual-vs-physical-address)

地址标识操作系统中系统中实际代码所在的内存位置。我们将数据存储在内存中不同的地址位置，以便将来需要时再次访问数据。操作系统中用于内存的地址有两种，即 ***物理地址*** 和 ***逻辑地址*** 。

逻辑地址是用户看到的虚拟地址。用户不能直接查看物理地址。逻辑地址用作访问物理地址的参考。逻辑地址和物理地址的根本区别在于，CPU 在程序执行期间生成逻辑地址。相反，物理地址指的是存储单元中的一个位置。

## 什么是逻辑地址？

逻辑地址是由中央处理器在程序执行期间生成的地址。逻辑地址是虚拟地址，因为它在物理上不存在，因此，它也被称为 ***虚拟地址*** 。该地址用作中央处理器访问物理内存位置的参考。术语“逻辑地址空间”用于设置从程序角度生成的所有逻辑地址。

逻辑地址的范围通常从零到最大值。生成逻辑地址的用户程序假设进程在 0 到 max 之间的位置运行。这个逻辑地址(由中央处理器产生)与内存管理单元产生的 ***基址*** 结合形成物理地址。称为内存管理单元的硬件设备用于将逻辑地址映射到相应的物理地址。

## 什么是物理地址？

物理地址标识内存中所需数据的物理位置。用户从不直接处理物理地址，但可以通过其对应的逻辑地址来访问它。用户程序生成逻辑地址，并认为它正在其中运行，但程序需要物理内存来执行。因此，逻辑地址在使用之前必须由 MMU 映射到物理地址。物理地址空间用于与逻辑地址空间中的逻辑地址相对应的所有物理地址。

## 逻辑地址和物理地址的区别

逻辑地址和物理地址的基本区别在于，从程序的角度来看，中央处理器生成一个逻辑地址。相反，物理地址是存储单元中存在的位置。逻辑地址空间是中央处理器为一个程序生成的所有逻辑地址的集合。相反，所有映射到相应逻辑地址的物理地址都称为物理地址空间。逻辑地址在物理上不存在于存储器中，而物理地址是存储器中可以被物理访问的位置。

![Virtual vs Physical Address](../Images/8609b2a630395245b2d01edff097ce3a.png)

相同的逻辑地址由编译时和加载时地址绑定方法生成，而它们在运行时地址绑定方法上有所不同。中央处理器在程序运行时生成逻辑地址，而物理地址由内存管理单元计算。逻辑地址和物理地址之间还有一些其他的区别，让我们借助下面的对照表来讨论一下。

| 条款 | 逻辑地址 | 物理地址 |
| 定义 | 当程序运行时，中央处理器产生逻辑地址 | 物理地址是内存中的一个位置。 |
| 位置 | 逻辑地址在物理上不存在于内存中，因此它有时被称为虚拟地址。 | 物理地址是存储单元中的一个位置。 |
| 接近 | 逻辑地址用作访问物理地址的参考。 | 物理地址不能直接访问。 |
| 地址空间 | 由中央处理器产生的关于一个程序的所有逻辑地址的集合称为逻辑地址空间。 | 而映射到逻辑地址的所有物理地址称为物理地址空间。 |

## 将虚拟地址映射到物理地址

内存由大数组地址组成。从程序计数器获取指令地址是中央处理器的责任。这些指令可能会导致加载或存储到特定的内存地址。

![Virtual vs Physical Address](../Images/7b052110c9931490d20d012f82a1faf1.png)

地址绑定是从一个地址空间映射到另一个地址空间的过程。逻辑地址由中央处理器在执行过程中生成，而物理地址指的是物理存储单元(加载到内存中的单元)中的位置。请注意，用户只处理逻辑地址。MMU 翻译逻辑地址。这个过程的输出是 RAM 中数据的适当物理地址。地址绑定可以通过三种不同的方式完成:

1.  **编译时间:**如果知道进程在编译时将驻留在内存中的什么位置，就可以生成一个绝对地址。也就是说，在编译期间，在可执行程序中生成物理地址。将这样的可执行文件加载到内存中非常快。但是如果另一个进程占用了生成的地址空间，那么程序就会崩溃，需要重新编译程序来使用虚拟地址空间。
2.  **加载时间:**如果在编译时不知道进程将驻留在哪里，那么将生成重新定位的地址。加载程序将重新定位的地址转换为绝对地址。加载程序将主存储器中进程的基址添加到所有逻辑地址中，以生成绝对地址。如果进程的基址改变了，那么我们需要再次重新加载进程。
3.  **执行时间:**指令已经加载到内存中，由 CPU 处理。此时可能会分配或重新分配额外的内存。如果进程在执行过程中可以从一个内存移动到另一个内存，则使用该进程(动态链接在加载或运行时完成)。例如压实。

## 什么是内存管理单元

虚拟地址和物理地址之间的运行时映射由称为 MMU 的硬件设备完成。操作系统将处理进程，并在内存管理中在磁盘和内存之间移动进程。它跟踪可用和使用的内存。内存管理单元是这两个寄存器的组合，

1.  **基址寄存器:**包含进程的起始物理地址。
2.  **限制寄存器:**提到相对于基址在进程占用区域上的限制。

* * *