# 操作系统中陷阱和中断的区别

> 原文:[https://www . javatpoint . com/trap-vs-操作系统中断](https://www.javatpoint.com/trap-vs-interrupt-in-operating-system)

在本文中，您将了解陷阱和中断之间的区别。但是在讨论差异之前，你必须了解陷阱和中断。

## 陷阱是什么？

陷阱是由用户程序调用操作系统的功能而产生的。假设用户应用程序需要在屏幕上打印一些东西，这会引发陷阱，操作系统会将数据写入屏幕。

陷阱是软件产生的中断，可能由各种因素引起，包括指令中的错误，如被零除或非法内存访问。当用户程序从操作系统发出明确的服务请求时，也可能会产生陷阱。

陷阱被称为**同步**事件，因为当前指令的执行更有可能导致陷阱。系统调用是另一种陷阱，在这种陷阱中，程序要求操作系统寻找某个服务，然后操作系统生成一个中断，允许程序访问这些服务。

陷阱作为中断更加活跃，因为代码将严重依赖于陷阱可能用于与操作系统交互的事实。因此，陷阱会重复陷阱的功能来访问任何系统服务。

### 操作系统中陷阱的机制

CPU 上的用户程序通常利用库调用来进行系统调用。库例行检查的工作是验证程序的参数，创建一个数据结构将参数从应用程序传输到操作系统的内核，然后执行被称为陷阱或软件中断的特殊指令。

这些特殊的指令或陷阱有助于确定应用程序输入需要哪个内核服务的操作数。因此，当进程被设置为执行陷阱时，中断保存用户代码的状态，切换到监管模式，然后调度可能提供所请求服务的相关内核过程。

## 什么是中断？

中断是当进程或事件需要立即关注时，由软件或硬件发出的信号。因为硬件和软件都会产生这些信号，所以它们被称为硬件，而软件会中断。硬件设备产生中断。中断可能由 USB 设备、网卡或键盘引起。中断是异步发生的，它们可能随时发生。

中断引脚是中央处理器上的专用引脚。它也被称为 INT 引脚。中断引脚将键盘等设备连接到处理器。当一个键被点击时，中断发生。中央处理器将从当前进程转换到中断处理程序。在这种情况下，键盘中断处理程序例程正在发生。完成中断处理程序代码后，中央处理器返回到原来运行的程序。当中断到达时，中央处理器改变上下文并执行中断处理程序。完成后，它会返回到以前的状态。

一个中央处理器只有一个中断引脚，但有几个硬件设备。中断控制器允许多个引脚共享一个中断引脚。为了识别哪个设备导致了中断，处理器将与中断控制器交互，执行适当的中断处理程序。这可能是一种处理定时器、USB 或键盘中断的方法。

### 操作系统中的中断机制

让我们看看中断是如何工作的。一个程序中执行多条指令，一个程序执行该程序的一条指令所需的时间称为指令周期。当中央处理器执行程序指令时，输入/输出设备或用户程序可能会产生中断。当中央处理器执行程序指令时，这些中断将作为输入传递给它。

处理器通过检查每个指令周期后是否有中断等待采取行动来管理中断。如果中央处理器没有识别出任何未决中断，它将进入下一个程序指令。如果中央处理器识别出一个挂起的中断，它将停止指令的执行，并调用中断处理程序来处理挂起的中断。

## 陷阱和中断的主要区别

![Trap vs Interrupt in Operating System](../Images/96eda823830c3a9a94544787518af6fe.png)

在这里，您将了解操作系统中陷阱和中断之间的主要区别。操作系统中的陷阱和中断是有区别的。一些差异如下:

1.  陷阱是用户程序发出的指示操作系统立即执行某些功能的信号。相比之下，中断是硬件向中央处理器发出的信号，表示需要立即关注的事件。
2.  陷阱也会触发操作系统功能。它将控制权交给陷阱处理程序。相比之下，中断会触发中央处理器执行中断处理程序例程。
3.  陷阱是同步的，可能在指令执行后出现。相比之下，中断是异步的，可能随时发生。
4.  陷阱由用户程序指令生成。相反，硬件设备会产生中断。
5.  陷阱也称为软件中断。相反，中断被称为硬件中断。
6.  陷阱是一个同步的过程。相比之下，中断是一个异步过程。

## 陷阱和中断之间的直接比较

在这里，您将学习操作系统中陷阱和中断之间的面对面比较。操作系统中的陷阱和中断是有区别的。一些差异如下:

| 圈套 | 中断 |
| 陷阱是用户程序发出的指示操作系统立即执行某些功能的信号。 | 中断是硬件向中央处理器发出的信号，表示需要立即关注的事件。 |
| 这是一个同步的过程。 | 这是一个异步过程。 |
| 所有陷阱都中断了。 | 不是所有的中断都是陷阱。 |
| 它可能只发生在软件设备上。 | 这可能发生在硬件和软件设备上。 |
| 用户程序指令生成它。 | 硬件设备产生它。 |
| 它也被称为软件中断。 | 它也被称为硬件中断。 |
| 它执行操作系统中的特定功能，并控制陷阱处理程序。 | 它迫使中央处理器触发一个特定的中断处理程序。 |

## 结论

有两种事件:陷阱和中断。陷阱和中断的区别在于陷阱是由用户程序触发以调用操作系统功能的。然而，中断由硬件设备触发，以允许处理器执行相应的中断处理程序。

* * *