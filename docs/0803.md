# 优先级反转

> 原文:[https://www.javatpoint.com/os-priority-inversion-in-tsl](https://www.javatpoint.com/os-priority-inversion-in-tsl)

在 TSL 机制中，可能存在优先级反转的问题。让？假设有两个合作过程，P1 和 P2。

P1 的优先级是 2，而 P2 的优先级是 1。P1 来得更早，被中央处理器安排了时间。由于它是一个协作进程，并且希望在关键部分执行，因此它将通过将锁变量设置为 1 来进入关键部分。

现在，P2 排好了队。P2 的优先级高于 P1，因此根据优先级调度，P2 被调度，P1 被抢占。P2 也是一个合作的过程，希望在关键部分执行。

虽然，P1 被抢占，但它的锁变量的值将显示为 1，因为 P1 没有完成，它还没有完成其关键部分。

P1 需要完成关键部分，但根据调度算法，CPU 与 P2 在一起。P2 想在关键部分执行，但根据同步机制，关键部分是与 P1。

这是一种锁，其中每个进程既不执行也不完成。这种锁叫做**旋转锁**。

这与死锁不同，因为它们不处于阻塞状态。一个处于就绪状态，另一个处于运行状态，但两者都没有被执行。