# 地址解析协议

> 原文：<https://www.javatpoint.com/address-resolution-protocol>

ARP 代表**地址解析协议**，用于从设备已知的 IP 地址中查找设备的 MAC 地址。这意味着，源设备已经知道目的设备的 IP 地址，但不知道目的设备的 MAC 地址。设备的媒体访问控制地址是必需的，因为在不知道设备的媒体访问控制地址的情况下，您无法与局域网(以太网)中的设备通信。因此，地址解析协议有助于获得目的设备的媒体访问控制地址。

![Address Resolution Protocol (ARP)](img/f2709961681d583ac4ec20f8831f2e3d.png)

**场景 1:数据包丢失或出错时。**

ARP 的目的是将 32 位逻辑地址(IPv4 地址)转换为 48 位物理地址(MAC 地址)。该协议在现场视察模型的第 2 层和第 3 层之间工作。媒体访问控制地址位于第 2 层，也称为数据链路层，而 IP 地址位于第 3 层，这一层也称为网络层。

#### 注意:只有当两个设备(源设备和目的设备)都在同一个网络中时，才会生成 ARP 请求。

**示例:**假设两个设备(设备 A 和设备 B)想要相互通信。设备 A 已经知道设备 B 的 [IP](https://www.javatpoint.com/ip-full-form) 地址，但是为了和设备 B 通信，设备 A 仍然需要设备 B 的 MAC 地址， **IP 地址**用于定位局域网上的设备， **MAC 地址**用于识别实际设备。设备甲首先查看其内部列表，即 ARP 缓存(表)，以检查设备乙的 IP 地址是否已经包含其媒体访问控制地址。如果 [ARP 表](https://www.javatpoint.com/arp-table)由设备 B 的媒体访问控制地址组成，那么设备 A 只需使用该媒体访问控制地址并开始通信。

如果该表不包含设备 B 的媒体访问控制地址，则设备 A 在网络上发送一个 ARP 广播消息，以知道哪个设备具有该特定的 IP 地址，并询问该特定设备的媒体访问控制地址。然后 IP 地址与源地址匹配的设备发送一条由设备 B 的 MAC 地址组成的 ARP 响应消息，当设备 A 获得设备 B 的 MAC 地址后，会将信息存储在 ARP 缓存(表)中。ARP 缓存用于提高网络效率。它存储设备的 IP 地址及其媒体访问控制地址。当设备 A 想要在网络上与设备 B 通信时，使用存储的信息，并且它不需要再次在网络上广播消息。它将简单地检查 ARP 缓存中的条目，然后使用它进行通信。

#### 注意:ARP 请求消息本质上是广播的，但 ARP 响应消息是单播的。

### ARP 中映射的类型

**有两种不同的方式将 IP 地址映射到 MAC 地址，如下所示:**

*   静态映射
*   动态映射

**静态映射-** 在静态映射中，表由目的设备的逻辑地址和对应的物理地址组成。在这种情况下，设备的 IP 和 MAC 地址是在 ARP 表中手动输入的。如果源设备想要与目的设备通信，则源设备必须首先访问该表。

**动态映射-** 在动态映射中，如果一个设备知道另一个设备的逻辑地址，那么通过使用地址解析协议，这个设备也会找到这个设备的物理地址。当源设备发送 ARP 广播请求时，会自动创建动态条目。这些条目不是永久性的，会定期清除。

#### 注意:动态映射也用于反向地址解析协议。

* * *