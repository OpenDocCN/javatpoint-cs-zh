# 操作系统中的帧分配

> 原文:[https://www.javatpoint.com/allocation-of-frames-in-os](https://www.javatpoint.com/allocation-of-frames-in-os)

操作系统的主内存被分成不同的帧。进程存储在这些帧中，一旦进程保存为帧，CPU 就可以运行它。因此，操作系统必须为每个进程留出足够的帧。因此，操作系统使用各种算法来分配帧。

按需分页用于实现虚拟内存，这是操作系统的一项基本功能。它需要开发页面替换机制和帧分配系统。如果有多个进程，则使用帧分配技术来定义分配给每个进程的帧数量。许多因素限制了分配帧的策略:

1.  您分配的帧数不能超过可用的总帧数。
2.  应该为每个进程分配特定数量的帧。这种限制是由两个因素造成的。首先，当分配的帧数下降时，页面错误率会增加，从而降低进程的执行性能。其次，应该有足够的帧来保存任何指令可能引用的所有多页。

操作系统中帧分配算法主要有五种方式。这些措施如下:

1.  **等帧分配**
2.  **比例帧分配**
3.  **优先帧分配**
4.  **全局置换分配**
5.  **本地置换分配**

## 等帧分配

在相等的帧分配中，进程在操作系统中的进程间平均分配。例如，如果系统有 30 帧和 7 个进程，每个进程将获得 4 帧。未分配给任何系统进程的 2 个帧可以用作系统中的自由帧缓冲池。

**劣势**

在具有不同大小进程的系统中，为每个进程分配相同的帧没有什么意义。如果将许多帧分配给一个小任务，许多分配的空帧将被浪费。

## 比例帧分配

比例帧分配技术根据执行所需的大小和内存中的帧总数来分配帧。

为大小为 **si** 的进程 **pi** 分配的帧数为 **ai = (si/S)*m** ，其中 **S** 代表所有进程大小的总和， **m** 代表系统中的帧数。

**劣势**

这种算法的唯一缺点是它不根据优先级分配帧。优先级帧分配解决了这个问题。

## 优先级帧分配

优先级帧分配根据帧分配的数量和进程来分配帧。假设一个进程具有高优先级，并且需要更多的帧，那么许多帧将被分配给它。随后，分配优先级较低的进程。

## 全球替代分配

当一个进程需要一个当前不在内存中的页面时，它可能会放入该页面，并从所有框架集中选择一个框架，即使另一个进程已经在使用该框架。换句话说，一个进程可能会从另一个进程获取一个帧。

**优势**

流程性能不会受到影响，从而提高系统吞吐量。

**缺点**

进程本身可能无法单独控制进程的页面错误率。其他进程的分页行为也会影响一个进程在内存中的页数。

## 本地替换分配

当一个进程需要一个不在内存中的页面时，它可以把它带进来，并从分配给它的一组帧中给它分配一个帧。

**优势**

特定进程的分页行为会影响内存中的页面和页面错误率。

**缺点**

低优先级进程可能会通过拒绝共享其帧来阻碍高优先级进程。

### 全局与本地替换分配

使用本地替换策略时，分配给进程的帧数不会改变。另一方面，使用全局替换，一个进程可以只选择授予其他进程的帧，并增加分配的帧数量。

* * *