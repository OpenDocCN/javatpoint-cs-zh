# 基本块的优化:

> 原文:[https://www.javatpoint.com/optimization-of-basic-blocks](https://www.javatpoint.com/optimization-of-basic-blocks)

优化过程可以应用于基本块。优化时，我们不需要改变由块计算的表达式集。

基本块优化有两种类型。这些措施如下:

1.  结构保持变换
2.  代数变换

## 1.结构保持转换:

基本块上的主要结构保持变换如下:

*   常见子表达式消除
*   死代码消除
*   临时变量的重命名
*   两个独立相邻语句的互换

### 常见子表达消除:

在普通的子表达式中，你不需要一遍又一遍地计算它。取而代之的是，您可以计算一次，并在再次遇到时从引用它的地方保存起来。

```

a : = b + c
b : = a - d 
c : = b + c                        
d : = a - d

```

在上面的表达式中，第二个和第四个表达式计算了相同的表达式。因此，该块可以进行如下转换:

```

a : = b + c 
b : = a - d                                                       
c : = b + c
d : = b

```

### 死码消除

*   一个程序可能包含大量的死代码。
*   这可能是因为一旦声明和定义了一次，就忘了删除它们，在这种情况下，它们没有任何作用。
*   假设语句 x:= y + z 出现在一个块中，x 是死符号，这意味着它将永远不会被使用。然后，在不改变基本块值的情况下，您可以安全地删除该语句。

### 重命名临时变量

语句 t:= b + c 可以改为 u:= b + c，其中 t 是临时变量，u 是新的临时变量。t 的所有实例都可以用 u 替换，而不改变基本块的值。

### 声明的交换

假设一个块有以下两个相邻的语句:

```

t1 : = b + c 
t2 : = x + y

```

当 t1 的值不影响 t2 的值时，这两个语句可以互换，而不影响 block 的值。

## 2.代数变换:

*   在代数变换中，我们可以把表达式集变成代数等价集。因此，表达式 x:= x + 0 或 x:= x *1 可以在不改变表达式集合的情况下从基本块中消除。
*   常数折叠是一类相关的优化。在编译时，我们计算常量表达式，并用它们的值替换常量表达式。因此，表达式 5*2.7 将由 13.5 代替。
*   有时意外的公共子表达式是由关系运算符如<=, > =、、+、=等生成的。
*   有时应用关联表达式来公开公共子表达式，而不改变基本块值。如果源代码有赋值

```

a:= b + c
                e:= c +d +b

```

可能会生成以下中间代码:

```

               a:= b + c
                t:= c +d
                e:= t + b

```